<div class="constraint-container" (mouseleave)="emitConstraint()">
    <div class="skills-section">
        <div *ngFor="let s of constraint.skills; let i=index; trackBy: trackByFn">
            <mat-form-field appearance="fill">
                <mat-label>Choose a skill</mat-label>
                <mat-select [(value)]="constraint.skills[i]" [formControl]="skillsFormCtrl[i]" (selectionChange)="emitConstraint()">
                    <mat-option *ngFor="let skill of skills" [value]="skill">
                        {{skill}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <button *ngIf="constraint.skills.length > 1" mat-icon-button color="warn" (click)="deleteSkill(i)">
                <mat-icon>delete</mat-icon>
            </button>
        </div>
    </div>
    <div class="additional-items">
        <button mat-raised-button (click)="addSkill()" color="primary">
            Add another skill
        </button>
        <app-weight [(weight)]="constraint.weight" (errorState)="updateWeightErrorState($event)" [label]="weightLabel"></app-weight>
    </div>
</div>
